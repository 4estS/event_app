
<%= render 'layouts/topbar' %>
<div class="container mx-auto flex justify-between p-4">
  <div>Welcome, <%= current_user.email if current_user %></div>
  <div class="flex flex-row align-middle">
    <% unless current_user %>
      <% location = session[:guest_location] || cookies[:guest_location] %>
      <% if location.present? %>
        <p class="text-lg font-semibold">Your current location: <span class="text-blue-600"><%= location %></span></p>
      <% else %>
        <p class="text-red-600">No location set.</p>
      <% end %>
      <%= button_to "Change Location", guest_location_path, method: :delete, class: "btn btn-ghost text-red-600", data: { turbo_confirm: "Are you sure you want to reset your location?" } %>
    <% end %>
  </div>
</div>
<div class="container mx-auto px-4">
  <div class="flex flex-1 flex-row gap-x-8">
    <!-- Left Column: Navigation -->
    <aside class="order-first min-w-[220px] bg-blue-100 p-4">
      <%= render "layouts/sidebar_nav" %>
    </aside>
    <!-- Main Column -->
    <main class="flex-1 bg-blue-50 p-4">
      <h1 class="text-xl font-semibold mb-4"><%= action_name.capitalize %> Event</h1>
      <%= render "form" %>
    </main>
  </div>
</div>